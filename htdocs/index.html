<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>mod-mapcache demo service</title>
    <style type="text/css">
    #map {
    width: 100%;
    height: 100%;
    border: 1px solid black;
    }
    </style>
    <script src="./openlayers/OpenLayers.js"></script>
    <script type="text/javascript">

var map;
function init(){
    var apiKey = "AgI6w1ng43KaaIw8H_AkBOT_b3h5N-zAF_Rpwsv3OYLHigUdtPyP_6jEDQyDTcMg";
    var cluExtent =  new OpenLayers.Bounds(-11584239.1798478,4299198.20549289,-9438495.32840601,6338173.22538596);

    map = new OpenLayers.Map( 'map', {
        displayProjection: new OpenLayers.Projection("EPSG:4326"),
        maxExtent: cluExtent,
        units: 'm',
        maxResolution: 156543
    } );





    var clu = new OpenLayers.Layer.WMTS({
        name: "Common Land Units",
        url: "http://commonlandunit.com/mapcache/wmts/",
        layer: 'clu',
        matrixSet: 'GoogleMapsCompatible',
        format: 'image/png',
        style: 'default',
        gutter:0,buffer:0,transitionEffect:'resize',
        resolutions:[156543.03392804099712520838,78271.51696402048401068896,39135.75848201022745342925,19567.87924100512100267224,9783.93962050256050133612,4891.96981025128025066806,2445.98490512564012533403,1222.99245256282006266702,611.49622628141003133351,305.74811314070478829308,152.87405657035250783338,76.43702828517623970583,38.21851414258812695834,19.10925707129405992646,9.55462853564703173959,4.77731426782351586979,2.38865713391175793490,1.19432856695587897633,0.59716428347793950593],
        zoomOffset:0,
        units:"m",
        maxExtent: cluExtent, // new OpenLayers.Bounds(-20037508.342789,-20037508.342789,20037508.342789,20037508.342789),
        projection: new OpenLayers.Projection("EPSG:3857"),
        sphericalMercator: true
      }
    );
    // clu.setIsBaseLayer(false);

    var hybrid = new OpenLayers.Layer.Bing({
        name: "Hybrid",
        key: apiKey,
        // maxExtent: cluExtent,
        type: "AerialWithLabels",
    });
    // var aerial = new OpenLayers.Layer.Bing({
    //     name: "Aerial",
    //     key: apiKey,
    //     type: "Aerial"
    // });

    map.addLayer(clu);
    map.addLayer(hybrid);


    if(!map.getCenter())
    {
     // map.zoomToMaxExtent();
      map.zoomToExtent(cluExtent, true);
      
    }
    map.addControl(new OpenLayers.Control.LayerSwitcher());
    // map.addControl(new OpenLayers.Control.MousePosition());
}
    </script>
  </head>

<body onload="init()">
    <div id="map">
    </div>
</body>
</html>
